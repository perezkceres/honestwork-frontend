{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/ivopascoal/Desktop/SALSA/Salsa_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _classCallCheck = require(\"/Users/ivopascoal/Desktop/SALSA/Salsa_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ivopascoal/Desktop/SALSA/Salsa_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RetryService = /*#__PURE__*/function () {\n  function RetryService(config) {\n    _classCallCheck(this, RetryService);\n\n    this.config = config;\n  }\n  /**\n   *\n   * @param func function to execute (should return {@link promise})\n   */\n\n\n  _createClass(RetryService, [{\n    key: \"executeAsyncFunc\",\n    value: function executeAsyncFunc(func) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var i, result, skip;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                i = 0;\n\n              case 1:\n                if (!(i <= this.config.retries)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.prev = 2;\n                _context.next = 5;\n                return func();\n\n              case 5:\n                result = _context.sent;\n                return _context.abrupt(\"return\", result);\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                skip = this.config.conditions.map(function (condition) {\n                  return condition.test(_context.t0);\n                }).find(function (skip) {\n                  return skip === true;\n                });\n\n                if (!(skip || i === this.config.retries)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                throw _context.t0;\n\n              case 14:\n                _context.next = 16;\n                return this.wait();\n\n              case 16:\n                i++;\n                _context.next = 1;\n                break;\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n    }\n    /**\n     *\n     * @param func function to execute\n     */\n\n  }, {\n    key: \"executeSyncFunc\",\n    value: function executeSyncFunc(func) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var i, result, skip;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                i = 0;\n\n              case 1:\n                if (!(i <= this.config.retries)) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                _context2.prev = 2;\n                result = func();\n                return _context2.abrupt(\"return\", result);\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](2);\n                skip = this.config.conditions.map(function (condition) {\n                  return condition.test(_context2.t0);\n                }).find(function (skip) {\n                  return skip === true;\n                });\n\n                if (!(skip || i === this.config.retries)) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                throw _context2.t0;\n\n              case 12:\n                _context2.next = 14;\n                return this.wait();\n\n              case 14:\n                i++;\n                _context2.next = 1;\n                break;\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[2, 7]]);\n      }));\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var _this = this;\n\n      return new Promise(function (res) {\n        setTimeout(function () {\n          return res();\n        }, _this.config.waitInterval);\n      });\n    }\n  }]);\n\n  return RetryService;\n}();\n\nexports.RetryService = RetryService;","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/SALSA/Salsa_frontend/node_modules/@crowdin/crowdin-api-client/out/core/internal/retry/index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","RetryService","config","func","i","retries","skip","conditions","map","condition","test","find","wait","res","setTimeout","waitInterval"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass RetryService {\n    constructor(config) {\n        this.config = config;\n    }\n    /**\n     *\n     * @param func function to execute (should return {@link promise})\n     */\n    executeAsyncFunc(func) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let i = 0; i <= this.config.retries; i++) {\n                try {\n                    const result = yield func();\n                    return result;\n                }\n                catch (error) {\n                    const skip = this.config.conditions.map(condition => condition.test(error)).find(skip => skip === true);\n                    if (skip || i === this.config.retries) {\n                        throw error;\n                    }\n                    yield this.wait();\n                }\n            }\n        });\n    }\n    /**\n     *\n     * @param func function to execute\n     */\n    executeSyncFunc(func) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let i = 0; i <= this.config.retries; i++) {\n                try {\n                    const result = func();\n                    return result;\n                }\n                catch (error) {\n                    const skip = this.config.conditions.map(condition => condition.test(error)).find(skip => skip === true);\n                    if (skip || i === this.config.retries) {\n                        throw error;\n                    }\n                    yield this.wait();\n                }\n            }\n        });\n    }\n    wait() {\n        return new Promise((res) => {\n            setTimeout(() => res(), this.config.waitInterval);\n        });\n    }\n}\nexports.RetryService = RetryService;\n"]},"metadata":{},"sourceType":"script"}