{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { canUseDOM, twLoad, useShallowCompareMemoize, removeChildrenWithAttribute, twWidgetFactory, cloneShallow } from \"./utils\";\n\nif (canUseDOM) {\n  twLoad();\n}\n\nvar childDivIdentifyingAttribute = \"twdiv\";\n\nfunction useTwitterWidget(factoryFunctionName, primaryArg, options, onLoad) {\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var ref = useRef(null); // noop if ssr\n\n  if (!canUseDOM) {\n    return {\n      ref: ref,\n      error: error\n    };\n  } // Make deps for useEffect.\n  // options, and possibly primaryArg, are objects that should be compared (shallow).\n  // There currently aren't any nested arrays or objects, so they\n  // can be cloned in a shallow manner.\n  // NOTE onLoad is used in useCallback, but it is not listed as a dependency.\n  // Listing it would likely cause unnecessary loads. The latest onLoad should be\n  // used regardless, since it will not be called unless the other dependencies\n  // change, so it works out.\n\n\n  var deps = [factoryFunctionName, useShallowCompareMemoize(primaryArg), useShallowCompareMemoize(options)];\n  useEffect(function () {\n    // Reset error\n    setError(null); // Protect against race conditions\n    // (set to true in cleanup function;\n    // checked if canceled in async loadWidget)\n\n    var isCanceled = false;\n\n    if (ref.current) {\n      var loadWidget = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var childEl, wf, resultMaybe;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(!ref || !ref.current)) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 2:\n                  childEl = document.createElement(\"div\");\n                  childEl.setAttribute(childDivIdentifyingAttribute, \"yes\");\n                  ref.current.appendChild(childEl);\n                  _context.prev = 5;\n                  _context.next = 8;\n                  return twWidgetFactory();\n\n                case 8:\n                  wf = _context.sent;\n                  _context.next = 11;\n                  return wf[factoryFunctionName](cloneShallow(primaryArg), childEl, cloneShallow(options));\n\n                case 11:\n                  resultMaybe = _context.sent;\n\n                  if (!(!resultMaybe && !isCanceled)) {\n                    _context.next = 14;\n                    break;\n                  }\n\n                  throw new Error(\"Twitter could not create widget. If it is a Timeline or \" + \"Tweet, ensure the screenName/tweetId exists.\");\n\n                case 14:\n                  _context.next = 21;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](5);\n                  console.error(_context.t0);\n                  setError(_context.t0);\n                  return _context.abrupt(\"return\");\n\n                case 21:\n                  if (!(!ref || !ref.current)) {\n                    _context.next = 23;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 23:\n                  if (!isCanceled) {\n                    _context.next = 26;\n                    break;\n                  }\n\n                  if (childEl) {\n                    childEl.remove();\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 26:\n                  if (onLoad) {\n                    onLoad();\n                  }\n\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[5, 16]]);\n        }));\n\n        return function loadWidget() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      removeChildrenWithAttribute(ref.current, childDivIdentifyingAttribute);\n      loadWidget();\n    }\n\n    return function () {\n      isCanceled = true;\n    };\n  }, deps);\n  return {\n    ref: ref,\n    error: error\n  };\n}\n\nexport var Follow = function Follow(_ref2) {\n  var username = _ref2.username,\n      options = _ref2.options,\n      onLoad = _ref2.onLoad,\n      renderError = _ref2.renderError;\n\n  var _useTwitterWidget = useTwitterWidget(\"createFollowButton\", username, options, onLoad),\n      ref = _useTwitterWidget.ref,\n      error = _useTwitterWidget.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Hashtag = function Hashtag(_ref3) {\n  var hashtag = _ref3.hashtag,\n      options = _ref3.options,\n      onLoad = _ref3.onLoad,\n      renderError = _ref3.renderError;\n\n  var _useTwitterWidget2 = useTwitterWidget(\"createHashtagButton\", hashtag, options, onLoad),\n      ref = _useTwitterWidget2.ref,\n      error = _useTwitterWidget2.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Mention = function Mention(_ref4) {\n  var username = _ref4.username,\n      options = _ref4.options,\n      onLoad = _ref4.onLoad,\n      renderError = _ref4.renderError;\n\n  var _useTwitterWidget3 = useTwitterWidget(\"createMentionButton\", username, options, onLoad),\n      ref = _useTwitterWidget3.ref,\n      error = _useTwitterWidget3.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Share = function Share(_ref5) {\n  var url = _ref5.url,\n      options = _ref5.options,\n      onLoad = _ref5.onLoad,\n      renderError = _ref5.renderError;\n\n  var _useTwitterWidget4 = useTwitterWidget(\"createShareButton\", url, options, onLoad),\n      ref = _useTwitterWidget4.ref,\n      error = _useTwitterWidget4.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Timeline = function Timeline(_ref6) {\n  var dataSource = _ref6.dataSource,\n      options = _ref6.options,\n      onLoad = _ref6.onLoad,\n      renderError = _ref6.renderError;\n\n  var _useTwitterWidget5 = useTwitterWidget(\"createTimeline\", dataSource, options, onLoad),\n      ref = _useTwitterWidget5.ref,\n      error = _useTwitterWidget5.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Tweet = function Tweet(_ref7) {\n  var tweetId = _ref7.tweetId,\n      options = _ref7.options,\n      onLoad = _ref7.onLoad,\n      renderError = _ref7.renderError;\n\n  var _useTwitterWidget6 = useTwitterWidget(\"createTweet\", tweetId, options, onLoad),\n      ref = _useTwitterWidget6.ref,\n      error = _useTwitterWidget6.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/SALSA/Salsa_frontend/node_modules/react-twitter-widgets/es/index.js"],"names":["_regeneratorRuntime","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","React","useRef","useEffect","useState","canUseDOM","twLoad","useShallowCompareMemoize","removeChildrenWithAttribute","twWidgetFactory","cloneShallow","childDivIdentifyingAttribute","useTwitterWidget","factoryFunctionName","primaryArg","options","onLoad","_useState","setError","ref","deps","isCanceled","current","loadWidget","_ref","mark","_callee","childEl","wf","resultMaybe","wrap","_callee$","_context","prev","next","abrupt","document","createElement","setAttribute","appendChild","sent","Error","t0","console","remove","stop","Follow","_ref2","username","renderError","_useTwitterWidget","Hashtag","_ref3","hashtag","_useTwitterWidget2","Mention","_ref4","_useTwitterWidget3","Share","_ref5","url","_useTwitterWidget4","Timeline","_ref6","dataSource","_useTwitterWidget5","Tweet","_ref7","tweetId","_useTwitterWidget6"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { canUseDOM, twLoad, useShallowCompareMemoize, removeChildrenWithAttribute, twWidgetFactory, cloneShallow } from \"./utils\";\n\nif (canUseDOM) {\n  twLoad();\n}\n\nvar childDivIdentifyingAttribute = \"twdiv\";\n\nfunction useTwitterWidget(factoryFunctionName, primaryArg, options, onLoad) {\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var ref = useRef(null); // noop if ssr\n\n  if (!canUseDOM) {\n    return {\n      ref: ref,\n      error: error\n    };\n  } // Make deps for useEffect.\n  // options, and possibly primaryArg, are objects that should be compared (shallow).\n  // There currently aren't any nested arrays or objects, so they\n  // can be cloned in a shallow manner.\n  // NOTE onLoad is used in useCallback, but it is not listed as a dependency.\n  // Listing it would likely cause unnecessary loads. The latest onLoad should be\n  // used regardless, since it will not be called unless the other dependencies\n  // change, so it works out.\n\n\n  var deps = [factoryFunctionName, useShallowCompareMemoize(primaryArg), useShallowCompareMemoize(options)];\n  useEffect(function () {\n    // Reset error\n    setError(null); // Protect against race conditions\n    // (set to true in cleanup function;\n    // checked if canceled in async loadWidget)\n\n    var isCanceled = false;\n\n    if (ref.current) {\n      var loadWidget = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var childEl, wf, resultMaybe;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(!ref || !ref.current)) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 2:\n                  childEl = document.createElement(\"div\");\n                  childEl.setAttribute(childDivIdentifyingAttribute, \"yes\");\n                  ref.current.appendChild(childEl);\n                  _context.prev = 5;\n                  _context.next = 8;\n                  return twWidgetFactory();\n\n                case 8:\n                  wf = _context.sent;\n                  _context.next = 11;\n                  return wf[factoryFunctionName](cloneShallow(primaryArg), childEl, cloneShallow(options));\n\n                case 11:\n                  resultMaybe = _context.sent;\n\n                  if (!(!resultMaybe && !isCanceled)) {\n                    _context.next = 14;\n                    break;\n                  }\n\n                  throw new Error(\"Twitter could not create widget. If it is a Timeline or \" + \"Tweet, ensure the screenName/tweetId exists.\");\n\n                case 14:\n                  _context.next = 21;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](5);\n                  console.error(_context.t0);\n                  setError(_context.t0);\n                  return _context.abrupt(\"return\");\n\n                case 21:\n                  if (!(!ref || !ref.current)) {\n                    _context.next = 23;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 23:\n                  if (!isCanceled) {\n                    _context.next = 26;\n                    break;\n                  }\n\n                  if (childEl) {\n                    childEl.remove();\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 26:\n                  if (onLoad) {\n                    onLoad();\n                  }\n\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[5, 16]]);\n        }));\n\n        return function loadWidget() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      removeChildrenWithAttribute(ref.current, childDivIdentifyingAttribute);\n      loadWidget();\n    }\n\n    return function () {\n      isCanceled = true;\n    };\n  }, deps);\n  return {\n    ref: ref,\n    error: error\n  };\n}\n\nexport var Follow = function Follow(_ref2) {\n  var username = _ref2.username,\n      options = _ref2.options,\n      onLoad = _ref2.onLoad,\n      renderError = _ref2.renderError;\n\n  var _useTwitterWidget = useTwitterWidget(\"createFollowButton\", username, options, onLoad),\n      ref = _useTwitterWidget.ref,\n      error = _useTwitterWidget.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Hashtag = function Hashtag(_ref3) {\n  var hashtag = _ref3.hashtag,\n      options = _ref3.options,\n      onLoad = _ref3.onLoad,\n      renderError = _ref3.renderError;\n\n  var _useTwitterWidget2 = useTwitterWidget(\"createHashtagButton\", hashtag, options, onLoad),\n      ref = _useTwitterWidget2.ref,\n      error = _useTwitterWidget2.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Mention = function Mention(_ref4) {\n  var username = _ref4.username,\n      options = _ref4.options,\n      onLoad = _ref4.onLoad,\n      renderError = _ref4.renderError;\n\n  var _useTwitterWidget3 = useTwitterWidget(\"createMentionButton\", username, options, onLoad),\n      ref = _useTwitterWidget3.ref,\n      error = _useTwitterWidget3.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Share = function Share(_ref5) {\n  var url = _ref5.url,\n      options = _ref5.options,\n      onLoad = _ref5.onLoad,\n      renderError = _ref5.renderError;\n\n  var _useTwitterWidget4 = useTwitterWidget(\"createShareButton\", url, options, onLoad),\n      ref = _useTwitterWidget4.ref,\n      error = _useTwitterWidget4.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Timeline = function Timeline(_ref6) {\n  var dataSource = _ref6.dataSource,\n      options = _ref6.options,\n      onLoad = _ref6.onLoad,\n      renderError = _ref6.renderError;\n\n  var _useTwitterWidget5 = useTwitterWidget(\"createTimeline\", dataSource, options, onLoad),\n      ref = _useTwitterWidget5.ref,\n      error = _useTwitterWidget5.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};\nexport var Tweet = function Tweet(_ref7) {\n  var tweetId = _ref7.tweetId,\n      options = _ref7.options,\n      onLoad = _ref7.onLoad,\n      renderError = _ref7.renderError;\n\n  var _useTwitterWidget6 = useTwitterWidget(\"createTweet\", tweetId, options, onLoad),\n      ref = _useTwitterWidget6.ref,\n      error = _useTwitterWidget6.error;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, error && renderError && renderError(error));\n};"]},"metadata":{},"sourceType":"module"}